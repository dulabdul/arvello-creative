---
// src/components/section/About.astro

// Definisi Tipe Data untuk TypeScript (Auto-complete & Type Safety)
interface Statistic {
  value: string;
  label: { id?: string; en?: string };
}

interface Props {
  lang: 'id' | 'en';
  headline?: { id?: string; en?: string };
  description?: { id?: string; en?: string };
  statistics?: Statistic[];
}

const { lang, headline, description, statistics = [] } = Astro.props;

// Ekstraksi data bahasa dengan Optional Chaining & Fallback
const displayHeadline =
  headline?.[lang] || 'We build digital products that drive growth.';
const displayDesc =
  description?.[lang] ||
  'Our team of experts delivers innovative solutions tailored to your business needs, ensuring maximum ROI and brand elevation.';
---

<section
  id='about'
  class='py-20 md:py-32 bg-white overflow-hidden'>
  <div class='container mx-auto px-4 max-w-7xl'>
    <div class='grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24 items-center'>
      {/* Kolom KIRI: Statistics (Grid 2x2) */}
      <div class='grid grid-cols-2 gap-4 md:gap-8 order-2 lg:order-1'>
        {
          statistics.map((stat) => (
            <div class='flex flex-col space-y-2 p-6 md:p-8 hover:shadow-xl hover:-translate-y-1 transition-all duration-300'>
              <h3 class='text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-br from-blue-600 to-indigo-600'>
                {stat.value}
              </h3>
              <p class='text-sm md:text-base text-slate-600 font-medium leading-snug'>
                {stat.label?.[lang]}
              </p>
            </div>
          ))
        }

        {/* Fallback Kosong jika klien belum mengisi data sama sekali */}
        {
          statistics.length === 0 && (
            <div class='col-span-2 text-center p-8 border-2 border-dashed border-slate-200 rounded-3xl text-slate-400'>
              {lang === 'id'
                ? 'Belum ada data statistik.'
                : 'No statistics data available.'}
            </div>
          )
        }
      </div>

      {/* Kolom KANAN: Text (Headline & Description) */}
      <div class='flex flex-col space-y-6 order-1 lg:order-2'>
        <h2
          class='text-4xl md:text-5xl font-extrabold text-slate-900 leading-tight tracking-tight'
          set:html={displayHeadline}
        />
        <p
          class='text-lg md:text-xl text-slate-600 leading-relaxed text-balance'
          set:html={displayDesc.replace(/\n/g, '<br/>')}
        />
        {
          /* Catatan: replace(/\n/g, '<br/>') memastikan jika klien menekan "Enter" di Sanity, line-break nya terbaca di HTML */
        }
      </div>
    </div>
  </div>
</section>
